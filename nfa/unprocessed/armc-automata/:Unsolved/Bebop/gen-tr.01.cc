#include <iostream>
#include <iomanip>

#include <stdlib.h>

int main(int argc,char *argv[]) {

  int n;

  if (argc!=2) {
    cerr << "One numerical argument is to be provided!\n";
    return 1;
  }
  
  n=atoi(argv[1]);

  cout << "fa(\n\n";

  cout << "%begin sigma and symbols\n";
  cout << "t(fsa_preds,fsa_preds),\n";
  cout << "%end sigma and symbols\n\n";

  cout << 48*n-96+103 << ", % number of states\n\n";

  cout << "[ % begin start states\n";
  cout << "0\n";
  cout << "], % end start states\n\n";

  cout << "[ % begin final states\n";
  cout << "1\n";
  cout << "], % end final states\n\n";

  cout << "[ % begin transitions\n\n";

  for (int i=1;i<n;i++) {

    cout << "%%%%%%% LEVEL " << i << "\n\n";

    cout << "trans(" << 0 << ",'1'/'1'," << 48*(i-1)+2 << "),\n";
    cout << "trans(" << 48*(i-1)+2 << ",a/b," << 48*(i-1)+3 << "),\n";
    cout << "trans(" << 48*(i-1)+3 << ",'1'/'1'," << 48*(i-1)+4 << "),\n";
    cout << "trans(" << 48*(i-1)+4 << ",not_in([])/'0'," << 48*(i-1)+5 << "),\n";
    cout << "trans(" << 48*(i-1)+5 << ",not_in([])/'0'," << 48*(i-1)+6 << "),\n";
    cout << "trans(" << 48*(i-1)+6 << ",not_in([])/'0'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+7 << "),\n";  	  
    cout << "trans(" << 48*(i-1)+7 << ",b/c," << 48*(i-1)+8 << "),\n";
    cout << "trans(" << 48*(i-1)+8 << ",'1'/'1'," << 48*(i-1)+9 << "),\n";
    cout << "trans(" << 48*(i-1)+9 << ",'0'/'0'," << 1 << "),\n";
    cout << "trans(" << 48*(i-1)+9 << ",'1'/'1'," << 48*(i-1)+10 << "),\n";
    cout << "trans(" << 48*(i-1)+10 << ",'0'/'0'," << 1 << "),\n";
    cout << "trans(" << 48*(i-1)+10 << ",'1'/'1'," << 48*(i-1)+11 << "),\n";
    cout << "trans(" << 48*(i-1)+11 << ",'0'/'0'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+12 << "),\n"; 	   
    cout << "trans(" << 48*(i-1)+12 << ",c/b," << 48*(i-1)+13 << "),\n";
    cout << "trans(" << 48*(i-1)+13 << ",'1'/'1'," << 48*(i-1)+14 << "),\n";
    cout << "trans(" << 48*(i-1)+14 << ",'0'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+15 << "),\n"; 	   
    cout << "trans(" << 48*(i-1)+15 << ",c/b," << 48*(i-1)+16 << "),\n";
    cout << "trans(" << 48*(i-1)+16 << ",'1'/'1'," << 48*(i-1)+17 << "),\n";
    cout << "trans(" << 48*(i-1)+17 << ",'1'/'0'," << 48*(i-1)+18 << "),\n";
    cout << "trans(" << 48*(i-1)+18 << ",'0'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+19 << "),\n"; 	   
    cout << "trans(" << 48*(i-1)+19 << ",c/b," << 48*(i-1)+20 << "),\n";
    cout << "trans(" << 48*(i-1)+20 << ",'1'/'1'," << 48*(i-1)+21 << "),\n";
    cout << "trans(" << 48*(i-1)+21 << ",'1'/'0'," << 48*(i-1)+22 << "),\n";
    cout << "trans(" << 48*(i-1)+22 << ",'1'/'0'," << 48*(i-1)+23 << "),\n";
    cout << "trans(" << 48*(i-1)+23 << ",'0'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+24 << "),\n"; 	   
    cout << "trans(" << 48*(i-1)+24 << ",b/e," << 48*(i-1)+25 << "),\n";
    cout << "trans(" << 48*(i-1)+25 << ",'1'/'1'," << 48*(i-1)+26 << "),\n";
    cout << "trans(" << 48*(i-1)+26 << ",'1'/'1'," << 48*(i-1)+27 << "),\n";
    cout << "trans(" << 48*(i-1)+27 << ",'1'/'1'," << 48*(i-1)+28 << "),\n";
    cout << "trans(" << 48*(i-1)+28 << ",'1'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",'0'/'0'," << 48*(i-1)+29 << "),\n";
    cout << "trans(" << 48*(i-1)+29 << ",[]/a," << 48*(i-1)+30 << "),\n";
    cout << "trans(" << 48*(i-1)+30 << ",[]/'2'," << 48*(i-1)+31 << "),\n";
    cout << "trans(" << 48*(i-1)+31 << ",[]/in(['0','1'])," << 48*(i-1)+32 << "),\n";
    cout << "trans(" << 48*(i-1)+32 << ",[]/in(['0','1'])," << 48*(i-1)+33 << "),\n";
    cout << "trans(" << 48*(i-1)+33 << ",[]/in(['0','1'])," << 48*(i-1)+34 << "),\n";
    cout << "trans(" << 48*(i-1)+34 << ",a/d," << 48*(i-1)+35 << "),\n";
    cout << "trans(" << 48*(i-1)+35 << ",'1'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+36 << "),\n"; 	   
    cout << "trans(" << 48*(i-1)+36 << ",[]/a," << 48*(i-1)+37 << "),\n";
    cout << "trans(" << 48*(i-1)+37 << ",[]/'2'," << 48*(i-1)+38 << "),\n";
    cout << "trans(" << 48*(i-1)+38 << ",[]/in(['0','1'])," << 48*(i-1)+39 << "),\n";
    cout << "trans(" << 48*(i-1)+39 << ",[]/in(['0','1'])," << 48*(i-1)+40 << "),\n";
    cout << "trans(" << 48*(i-1)+40 << ",[]/in(['0','1'])," << 48*(i-1)+41 << "),\n";
    cout << "trans(" << 48*(i-1)+41 << ",d/e," << 48*(i-1)+42 << "),\n";
    cout << "trans(" << 48*(i-1)+42 << ",'1'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",'0'/'1'," << 48*(i-1)+43 << "),\n";
    cout << "trans(" << 0 << ",'1'/'0'," << 48*(i-1)+43 << "),\n";
    cout << "trans(" << 48*(i-1)+43 << ",e/f," << 48*(i-1)+44 << "),\n";
    cout << "trans(" << 48*(i-1)+44 << ",'1'/'1'," << 1 << "),\n\n";

    cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*(i-1)+45 << "),\n"; 	   
    cout << "trans(" << 48*(i-1)+45 << ",f/[]," << 48*(i-1)+46 << "),\n";
    cout << "trans(" << 48*(i-1)+46 << ",'1'/[]," << 48*(i-1)+47 << "),\n";
    cout << "trans(" << 48*(i-1)+47 << ",not_in([])/[]," << 48*(i-1)+48 << "),\n";
    cout << "trans(" << 48*(i-1)+48 << ",not_in([])/[]," << 48*(i-1)+49 << "),\n";
    cout << "trans(" << 48*(i-1)+49 << ",not_in([])/[]," << 1 << "),\n\n";

  } // The end of generating the first n-1 levels

  cout << "%%%%%%% LEVEL " << n << "\n\n"; 

  cout << "trans(" << 0 << ",'1'/'1'," << 48*n-96+50 << "),\n";
  cout << "trans(" << 48*n-96+50 << ",a/b," << 48*n-96+51 << "),\n";
  cout << "trans(" << 48*n-96+51 << ",'2'/'2'," << 48*n-96+52 << "),\n";
  cout << "trans(" << 48*n-96+52 << ",not_in([])/'0'," << 48*n-96+53 << "),\n";
  cout << "trans(" << 48*n-96+53 << ",not_in([])/'0'," << 48*n-96+54 << "),\n";
  cout << "trans(" << 48*n-96+54 << ",not_in([])/'0'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+55 << "),\n";
  cout << "trans(" << 48*n-96+55 << ",b/c," << 48*n-96+56 << "),\n";
  cout << "trans(" << 48*n-96+56 << ",'2'/'2'," << 48*n-96+57 << "),\n";
  cout << "trans(" << 48*n-96+57 << ",'0'/'0'," << 1 << "),\n";
  cout << "trans(" << 48*n-96+57 << ",'1'/'1'," << 48*n-96+58 << "),\n";
  cout << "trans(" << 48*n-96+58 << ",'0'/'0'," << 1 << "),\n";
  cout << "trans(" << 48*n-96+58 << ",'1'/'1'," << 48*n-96+59 << "),\n";
  cout << "trans(" << 48*n-96+59 << ",'0'/'0'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+60 << "),\n";
  cout << "trans(" << 48*n-96+60 << ",c/b," << 48*n-96+61 << "),\n";
  cout << "trans(" << 48*n-96+61 << ",'2'/'2'," << 48*n-96+62 << "),\n";
  cout << "trans(" << 48*n-96+62 << ",'0'/'1'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+63 << "),\n";
  cout << "trans(" << 48*n-96+63 << ",c/b," << 48*n-96+64 << "),\n";
  cout << "trans(" << 48*n-96+64 << ",'2'/'2'," << 48*n-96+65 << "),\n";
  cout << "trans(" << 48*n-96+65 << ",'1'/'0'," << 48*n-96+66 << "),\n";
  cout << "trans(" << 48*n-96+66 << ",'0'/'1'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+67 << "),\n";
  cout << "trans(" << 48*n-96+67 << ",c/b," << 48*n-96+68 << "),\n";
  cout << "trans(" << 48*n-96+68 << ",'2'/'2'," << 48*n-96+69 << "),\n";
  cout << "trans(" << 48*n-96+69 << ",'1'/'0'," << 48*n-96+70 << "),\n";
  cout << "trans(" << 48*n-96+70 << ",'1'/'0'," << 48*n-96+71 << "),\n";
  cout << "trans(" << 48*n-96+71 << ",'0'/'1'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+72 << "),\n";
  cout << "trans(" << 48*n-96+72 << ",b/e," << 48*n-96+73 << "),\n";
  cout << "trans(" << 48*n-96+73 << ",'2'/'2'," << 48*n-96+74 << "),\n";
  cout << "trans(" << 48*n-96+74 << ",'1'/'1'," << 48*n-96+75 << "),\n";
  cout << "trans(" << 48*n-96+75 << ",'1'/'1'," << 48*n-96+76 << "),\n";
  cout << "trans(" << 48*n-96+76 << ",'1'/'1'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",'0'/'0'," << 48*n-96+77 << "),\n";
  cout << "trans(" << 48*n-96+77 << ",a/d," << 48*n-96+78 << "),\n";
  cout << "trans(" << 48*n-96+78 << ",'2'/'2'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+79 << "),\n";
  cout << "trans(" << 48*n-96+79 << ",d/e," << 48*n-96+80 << "),\n";
  cout << "trans(" << 48*n-96+80 << ",'2'/'2'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",'0'/'1'," << 48*n-96+81 << "),\n";
  cout << "trans(" << 0 << ",'1'/'0'," << 48*n-96+81 << "),\n";
  cout << "trans(" << 48*n-96+81 << ",e/f," << 48*n-96+82 << "),\n";
  cout << "trans(" << 48*n-96+82 << ",'2'/'2'," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+83 << "),\n";
  cout << "trans(" << 48*n-96+83 << ",f/[]," << 48*n-96+84 << "),\n";
  cout << "trans(" << 48*n-96+84 << ",'2'/[]," << 48*n-96+85 << "),\n";
  cout << "trans(" << 48*n-96+85 << ",not_in([])/[]," << 48*n-96+86 << "),\n";
  cout << "trans(" << 48*n-96+86 << ",not_in([])/[]," << 48*n-96+87 << "),\n";
  cout << "trans(" << 48*n-96+87 << ",not_in([])/[]," << 1 << "),\n\n";

  cout << "%%%%%%% MAIN\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+88 << "),\n";
  cout << "trans(" << 48*n-96+88 << ",[]/a," << 48*n-96+89 << "),\n";
  cout << "trans(" << 48*n-96+89 << ",[]/'1'," << 48*n-96+90 << "),\n";
  cout << "trans(" << 48*n-96+90 << ",[]/in(['0','1'])," << 48*n-96+91 << "),\n";
  cout << "trans(" << 48*n-96+91 << ",[]/in(['0','1'])," << 48*n-96+92 << "),\n";
  cout << "trans(" << 48*n-96+92 << ",[]/in(['0','1'])," << 48*n-96+93 << "),\n";
  cout << "trans(" << 48*n-96+93 << ",p/q," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+94 << "),\n";
  cout << "trans(" << 48*n-96+94 << ",[]/a," << 48*n-96+95 << "),\n";
  cout << "trans(" << 48*n-96+95 << ",[]/'1'," << 48*n-96+96 << "),\n";
  cout << "trans(" << 48*n-96+96 << ",[]/in(['0','1'])," << 48*n-96+97 << "),\n";
  cout << "trans(" << 48*n-96+97 << ",[]/in(['0','1'])," << 48*n-96+98 << "),\n";
  cout << "trans(" << 48*n-96+98 << ",[]/in(['0','1'])," << 48*n-96+99 << "),\n";
  cout << "trans(" << 48*n-96+99 << ",q/r," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",'0'/'0'," << 48*n-96+100 << "),\n";
  cout << "trans(" << 48*n-96+100 << ",r/s," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",'1'/'1'," << 48*n-96+101 << "),\n";
  cout << "trans(" << 48*n-96+101 << ",r/t," << 1 << "),\n\n";

  cout << "trans(" << 0 << ",$@(not_in([]))/ $@(not_in([]))," << 48*n-96+102 << "),\n";
  cout << "trans(" << 48*n-96+102 << ",s/t," << 1 << "),\n\n";

  cout << "%%%%%%% STUTTERING\n\n";

  cout << "trans(0,$@(not_in([]))/ $@(not_in([])),1),\n\n";

  cout << "%%%%%%% PRESERVING THE REST OF THE STACK\n\n";

  cout << "trans(1,$@(not_in([]))/ $@(not_in([])),1)\n\n";

  cout << "], % end transitions\n";
  cout << "[]). % jumps\n";

  return 0;
}
